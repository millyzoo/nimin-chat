(this["webpackJsonpnimin-chat"]=this["webpackJsonpnimin-chat"]||[]).push([[0],{58:function(n,e,t){"use strict";t.r(e);var a,r,i,o=t(4),c=t.n(o),s=t(37),b=t.n(s),d=t(14),l=t(6),p=t(7),j=Object(p.a)(a||(a=Object(l.a)(['\n  html {\n    font-size: 16px;\n  }\n\n  body {\n    margin: 0;\n    padding: 0;\n    height: 100%;\n    font-family: \'Noto Sans TC\', Open-Sans, Arial;\n    font-weight: 400;\n    background: #e9e9e9;\n    color: #505050;\n    transition: all 0.5s linear;\n  }\n\n  * {\n    box-sizing: border-box;\n  }\n\n  h1, p {\n    margin: 0;\n  }\n\n  input,\n  input[type="button"],\n  input[type="submit"],\n  input[type="file"],\n  input[type="reset"],\n  button,\n  textarea,\n  select {\n    outline: none;\n    letter-spacing: 1px;\n    appearance: none;\n    outline-style: none;\n    -webkit-appearance: none;\n  }\n\n  input, textarea {\n    resize: none;\n  }\n']))),x=t(3),u=p.b.footer(r||(r=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 0 auto;\n  height: 60px;\n  color: #b6b6b6;\n  font-size: 0.875rem;\n"]))),h=p.b.a(i||(i=Object(l.a)(["\n  margin-left: 5px;\n  color: #b6b6b6;\n  text-decoration: none;\n  transition: 0.3s;\n\n  &:hover {\n    color: #555555;\n  }\n"])));function f(){return Object(x.jsxs)(u,{children:[Object(x.jsx)("p",{children:"Made with by "}),Object(x.jsx)(h,{href:"https://github.com/milyzoo",target:"_blank",rel:"noreferrer",children:"@milyzoo"}),Object(x.jsx)("p",{children:"."})]})}var g,m,O,v,w,k,y,S,C,z,I,U,D=t(19),M=t(11),T=t(24),L="@media (max-width: 575px)",F=p.b.div(g||(g=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: calc(100vh - 60px); /* \u6e1b\u53bb footer + header */\n"]))),J=p.b.input(m||(m=Object(l.a)(["\n  padding: 12px;\n  border-radius: 50px;\n  width: 100%;\n  border: none;\n  background-color: #00b9a3;\n  color: #ffffff;\n  font-size: 1.125rem;\n  cursor: pointer;\n  transition: all 0.3s;\n\n  &:hover {\n    background-color: #00ad98;\n  }\n"]))),N=Object(o.createContext)(null),A="user",E=function(){return window.scrollTo(0,0)},q=p.b.div(O||(O=Object(l.a)(["\n  margin-bottom: 10px;\n  width: 30px;\n  height: 30px;\n  background-color: ",";\n  border-radius: 50%;\n  cursor: pointer;\n"])),(function(n){return n.background})),B=p.b.input(v||(v=Object(l.a)(["\n  display: none;\n  border: none;\n"]))),Y=p.b.div(w||(w=Object(l.a)(['\n  position: relative;\n  width: 14px;\n  height: 14px;\n  border: 2px solid #aaaaaa;\n  border-radius: 50%;\n  cursor: pointer;\n\n  &::after {\n    position: absolute;\n    content: "";\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    width: 7px;\n    height: 7px;\n    border-radius: 50%;\n    background-color: #aaaaaa;\n    transition: all 0.3s;\n    opacity: 0;\n  }\n']))),H=p.b.label(k||(k=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  & + & {\n    margin-left: 30px;\n  }\n\n  input:checked + ","::after {\n    opacity: 1;\n  }\n"])),Y);function R(n){var e=n.id,t=n.background,a=n.handleUserInfoChange;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(H,{htmlFor:e,children:[Object(x.jsx)(q,{background:t}),Object(x.jsx)(B,{type:"radio",name:"avatar",id:e,value:t,onChange:a}),Object(x.jsx)(Y,{})]})})}var _=p.b.form(y||(y=Object(l.a)(["\n  padding: 40px;\n  width: 400px;\n  background-color: #f5f5f5;\n  border-radius: 20px;\n  box-shadow: 0 10px 60px rgba(0, 0, 0, 0.05);\n\n  "," {\n    width: 90%;\n  }\n"])),L),K=p.b.h1(S||(S=Object(l.a)(["\n  margin-bottom: 40px;\n  color: #00b9a3;\n  font-size: 1.875rem;\n  font-weight: 900;\n  text-align: center;\n"]))),P=p.b.div(C||(C=Object(l.a)(["\n  margin: 0 0 30px 0;\n"]))),Q=p.b.span(z||(z=Object(l.a)(["\n  margin-left: 20px;\n  color: #d62f39;\n"]))),V=p.b.input(I||(I=Object(l.a)(["\n  margin-top: 10px;\n  padding: 10px;\n  width: 100%;\n  height: 45px;\n  border: 1px solid transparent;\n  border-radius: 8px;\n  font-size: 1rem;\n  color: #505050;\n  background-color: #ffffff;\n  transition: all 0.3s;\n\n  &::placeholder {\n    color: #cccccc;\n  }\n\n  &:focus {\n    border: 1px solid #00b9a3;\n  }\n"]))),X=p.b.div(U||(U=Object(l.a)(["\n  display: flex;\n  margin: 10px 0 30px 0;\n"])));function G(){var n=Object(o.useState)(""),e=Object(d.a)(n,2),t=e[0],a=e[1],r=Object(o.useContext)(N),i=r.setIsUserLogin,c=r.currentUser,s=r.setCurrentUser,b=Object(M.f)(),l=function(n){switch(n.target.name){case"username":s(Object(T.a)(Object(T.a)({},c),{},{username:n.target.value})),a("");break;case"avatar":s(Object(T.a)(Object(T.a)({},c),{},{avatar:n.target.value})),a("")}};return Object(x.jsx)(F,{children:Object(x.jsxs)(_,{onSubmit:function(n){var e;(n.preventDefault(),c.username||c.avatar)?c.username?c.avatar?(a(""),e=c,localStorage.setItem(A,JSON.stringify(e)),i(!0),b.push("/mode")):a("\u5c1a\u672a\u9078\u64c7\u982d\u8cbc"):a("\u5c1a\u672a\u586b\u5beb\u540d\u5b57"):a("\u8cc7\u6599\u586b\u5beb\u4e0d\u9f4a\u5168")},children:[Object(x.jsx)(K,{children:"NIMIN CHAT"}),Object(x.jsxs)(P,{children:[Object(x.jsxs)("label",{htmlFor:"username",children:["\u540d\u5b57",t&&Object(x.jsx)(Q,{children:t})]}),Object(x.jsx)(V,{id:"username",name:"username",placeholder:"\u8acb\u586b\u5beb\u540d\u5b57",onChange:l})]}),Object(x.jsx)("p",{children:"\u9078\u64c7\u982d\u8cbc"}),Object(x.jsx)(X,{children:[{id:"option1",background:"#e0969b"},{id:"option2",background:"#b59a92"},{id:"option3",background:"#77bce2"},{id:"option4",background:"#93a5d2"}].map((function(n){return Object(x.jsx)(R,{id:n.id,handleUserInfoChange:l,background:n.background},n.id)}))}),Object(x.jsx)(J,{type:"submit",value:"\u9032\u5165\u804a\u5929\u5ba4"})]})})}var W=t(32),Z=t(41),$=t(33),nn=t(31);t(54);nn.a.initializeApp({apiKey:"AIzaSyDXEot_nTMfTpJVR4lfaCuqm74Uz8laHCQ",authDomain:"nimin-chat.firebaseapp.com",databaseURL:"https://nimin-chat-default-rtdb.firebaseio.com",projectId:"nimin-chat",storageBucket:"nimin-chat.appspot.com",messagingSenderId:"612479268903",appId:"1:612479268903:web:6bd28ec327da23617bf602"});var en,tn,an,rn,on,cn,sn,bn,dn,ln,pn=nn.a.database(),jn=t(44),xn=p.b.div(en||(en=Object(l.a)(["\n  width: 280px;\n"]))),un=Object(p.b)(D.b)(tn||(tn=Object(l.a)(["\n  display: block;\n  text-decoration: none;\n"]))),hn=p.b.div(an||(an=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 40px;\n  padding: 30px 0;\n  background-color: #fff;\n  border-radius: 20px;\n  font-size: 1.5rem;\n  font-weight: 500;\n  color: #00b9a3;\n  cursor: pointer;\n  transition: 0.3s;\n\n  &:hover {\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);\n    background-color: #00b9a3;\n    color: #ffffff;\n  }\n\n  svg {\n    width: auto;\n    height: 40px;\n  }\n"]))),fn=p.b.div(rn||(rn=Object(l.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.4);\n"]))),gn=p.b.div(on||(on=Object(l.a)(["\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding: 50px 80px;\n  width: 33%;\n  min-width: 480px;\n  background-color: #ffffff;\n  border-radius: 20px;\n  box-shadow: 0 0 50px 0 rgba(0, 0, 0, 0.1);\n\n  "," {\n    padding: 40px;\n    width: 90%;\n    min-width: auto;\n  }\n"])),L),mn=p.b.div(cn||(cn=Object(l.a)(["\n  position: absolute;\n  top: 20px;\n  right: 20px;\n  width: 35px;\n  height: 35px;\n  border-radius: 50%;\n  border: 2px solid #00b9a3;\n  color: #00b9a3;\n  cursor: pointer;\n  transition: 0.3s;\n\n  svg {\n    width: 100%;\n    height: 100%;\n  }\n\n  &:hover {\n    background-color: #00b9a3;\n    color: #ffffff;\n  }\n"]))),On=p.b.p(sn||(sn=Object(l.a)(["\n  margin-bottom: 40px;\n  background-color: #ffffff;\n  color: #00b9a3;\n  font-size: 1.5rem;\n  font-weight: 500;\n  text-align: center;\n"]))),vn=p.b.div(bn||(bn=Object(l.a)(["\n  margin-bottom: 40px;\n"]))),wn=p.b.span(dn||(dn=Object(l.a)(["\n  margin-left: 20px;\n  color: #d62f39;\n"]))),kn=p.b.input(ln||(ln=Object(l.a)(["\n  margin-top: 10px;\n  padding: 10px;\n  width: 100%;\n  height: 45px;\n  border: 1px solid transparent;\n  border-radius: 8px;\n  font-size: 1rem;\n  color: #505050;\n  background-color: #f5f5f5;\n  transition: 0.3s;\n\n  &::placeholder {\n    color: #cccccc;\n  }\n\n  &:focus {\n    border: 1px solid #00b9a3;\n  }\n"])));function yn(){var n=Object(o.useState)(!1),e=Object(d.a)(n,2),t=e[0],a=e[1],r=Object(o.useState)(!1),i=Object(d.a)(r,2),c=i[0],s=i[1],b=Object(o.useState)(""),l=Object(d.a)(b,2),p=l[0],j=l[1],u=Object(o.useState)(""),h=Object(d.a)(u,2),f=h[0],g=h[1],m=Object(o.useState)(""),O=Object(d.a)(m,2),v=O[0],w=O[1],k=Object(M.f)(),y=jn.a.database().ref("chats").orderByChild("roomID"),S=Object(o.useContext)(N).isUserLogin;Object(o.useEffect)((function(){S||k.push("/")}),[k,S]),E();var C=function(){a(!t),w("")},z=function(){s(!c),w("")};return Object(x.jsx)(F,{children:Object(x.jsxs)(xn,{children:[Object(x.jsx)(un,{to:"/chat/lobby",children:Object(x.jsxs)(hn,{children:[Object(x.jsx)(W.b,{}),"\u804a\u5929\u5927\u5ef3"]})}),Object(x.jsxs)(hn,{onClick:C,children:[Object(x.jsx)(W.a,{}),"\u52a0\u5165\u623f\u9593"]}),t&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(fn,{onClick:C}),Object(x.jsxs)(gn,{children:[Object(x.jsx)(mn,{onClick:C,children:Object(x.jsx)($.a,{})}),Object(x.jsx)(On,{children:"\u52a0\u5165\u623f\u9593"}),Object(x.jsxs)("form",{onSubmit:function(n){n.preventDefault(),y.equalTo(f).once("value",(function(n){f?n.val()?k.push("/chat/".concat(f)):w("\u6b64\u623f\u9593\u4e0d\u5b58\u5728"):w("\u5c1a\u672a\u8f38\u5165\u623f\u9593\u7de8\u865f")}))},children:[Object(x.jsxs)(vn,{children:[Object(x.jsxs)("label",{htmlFor:"room-id",children:["\u623f\u9593\u7de8\u865f",v&&Object(x.jsx)(wn,{children:v})]}),Object(x.jsx)(kn,{id:"room-id",placeholder:"\u8acb\u8f38\u5165\u623f\u9593\u7de8\u865f",onChange:function(n){g(n.target.value)}})]}),Object(x.jsx)(J,{type:"submit",value:"\u52a0\u5165"})]})]})]}),Object(x.jsxs)(hn,{onClick:z,children:[Object(x.jsx)(Z.a,{}),"\u5275\u5efa\u623f\u9593"]}),c&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(fn,{onClick:z}),Object(x.jsxs)(gn,{children:[Object(x.jsx)(mn,{onClick:z,children:Object(x.jsx)($.a,{})}),Object(x.jsx)(On,{children:"\u5275\u5efa\u623f\u9593"}),Object(x.jsxs)("form",{onSubmit:function(n){n.preventDefault(),y.equalTo(p).once("value",(function(n){var e;p?n.val()?w("\u6b64\u623f\u9593\u5df2\u5b58\u5728"):(e=p,pn.ref("chats/".concat(e)).set({roomID:e}),k.push("/chat/".concat(p))):w("\u5c1a\u672a\u8f38\u5165\u623f\u9593\u7de8\u865f")}))},children:[Object(x.jsxs)(vn,{children:[Object(x.jsxs)("label",{htmlFor:"room-id",children:["\u623f\u9593\u7de8\u865f",v&&Object(x.jsx)(wn,{children:v})]}),Object(x.jsx)(kn,{id:"room-id",placeholder:"\u8acb\u8f38\u5165\u623f\u9593\u7de8\u865f",onChange:function(n){j(n.target.value)}})]}),Object(x.jsx)(J,{type:"submit",value:"\u5efa\u7acb"})]})]})]})]})})}var Sn,Cn,zn,In,Un,Dn,Mn,Tn,Ln,Fn,Jn,Nn,An,En,qn,Bn,Yn,Hn,Rn,_n,Kn,Pn,Qn,Vn,Xn,Gn,Wn=t(43),Zn=t(34),$n=t(42),ne=p.b.div(Sn||(Sn=Object(l.a)(["\n  margin-top: 40px;\n  padding: 20px;\n  width: 100%;\n  max-width: 840px;\n  height: 650px;\n\n  "," {\n    height: calc((100vh - 60px) *0.8)\n  }\n"])),L),ee=p.b.div(Cn||(Cn=Object(l.a)(["\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  padding: 20px;\n  height: 100%;\n  background-color: #f5f5f5;\n  border-radius: 20px;\n"]))),te=p.b.div(zn||(zn=Object(l.a)(["\n  position: absolute;\n  top: -40px;\n  left: 20px;\n  display: flex;\n  align-items: center;\n  padding: 0 20px 0 70px;\n  line-height: 40px;\n  background-color: #cccccc;\n  border-radius: 10px 10px 0 0;\n  font-size: 0.9375rem;\n  \n  svg {\n    margin-left: 50px;\n    width: 20px;\n    height: 20px;\n    cursor: pointer;\n    transition: 0.3s;\n\n    &:hover {\n      color: #d62f39;\n    }\n  }\n"]))),ae=p.b.aside(In||(In=Object(l.a)(["\n  position: relative;\n  padding: 20px;\n  width: 180px;\n  height: 100%;\n  background-color: #fff;\n  border-radius: 15px;\n  display: ",";\n\n  "," {\n    display: ",";\n    width: ",";\n  }\n"])),(function(n){return n.isSidebarOpen?"block":"none"}),L,(function(n){return n.isSidebarOpen?"none":"block"}),(function(n){return n.isSidebarOpen?"0":"100%"})),re=p.b.div(Un||(Un=Object(l.a)(["\n  position: absolute;\n  left: 0;\n  bottom: 75px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 25px;\n  height: 30px;\n  border-radius: 0 50% 50% 0;\n  font-size: 1.375rem;\n  color: #505050;\n  background-color: #cccccc;\n  cursor: pointer;\n  z-index: 1;\n\n  svg {\n    transition: 0.3s;\n    transform: ",";\n  }\n"])),(function(n){return n.isSidebarOpen?"rotate(0)":"rotate(180deg)"})),ie=p.b.div(Dn||(Dn=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 15px;\n  padding-bottom: 15px;\n  border-bottom: 1px solid #e9e9e9;\n"]))),oe=(p.b.p(Mn||(Mn=Object(l.a)(["\n  font-size: 0.815rem;\n  color: #aaaaaa;\n"]))),p.b.ul(Tn||(Tn=Object(l.a)(["\n  margin: 20px 0 0 0;\n  padding: 0;\n  list-style: none;\n  font-size: 0.9375rem;\n"]))),p.b.li(Ln||(Ln=Object(l.a)(['\n  position: relative;\n  padding-left: 13px;\n\n  &::before {\n    position: absolute;\n    content: "";\n    left: 0;\n    top: 50%;\n    transform: translateY(-50%);\n    width: 6px;\n    height: 6px;\n    border-radius: 50%;\n    background-color: #00b9a3;\n  }\n\n  & + & {\n    margin-top: 10px;\n  }\n']))),p.b.div(Fn||(Fn=Object(l.a)(["\n  width: 18px;\n  height: 18px;\n  margin-right: 8px;\n  background-color: ",";\n  border-radius: 50%;\n"])),(function(n){return n.avatar}))),ce=p.b.section(Jn||(Jn=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  width: ",";\n\n  "," {\n    display: ",";\n    width: ",";\n  }\n"])),(function(n){return n.isSidebarOpen?"calc(100% - 200px)":"100%"}),L,(function(n){return n.isSidebarOpen?"flex":"none"}),(function(n){return n.isSidebarOpen?"100%":"0"})),se=p.b.div(Nn||(Nn=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 0 10px;\n  height: calc(100% - 70px);\n  overflow: auto;\n\n  &::-webkit-scrollbar {\n    width: 8px;\n  }\n \n  &::-webkit-scrollbar-track {\n    background-color: #e9e9e9;\n    border-radius: 100px;\n  }\n \n  &::-webkit-scrollbar-thumb {\n    background-color: #cccccc;\n    border-radius: 100px;\n  }\n"]))),be=p.b.p(An||(An=Object(l.a)(["\n  display: inline-block;\n  padding: 5px 15px;\n  background-color: #e9e9e9;\n  border-radius: 20px;\n  font-size: 0.875rem;\n  margin: 7.5px 0;\n"]))),de=p.b.div(En||(En=Object(l.a)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: flex-end;\n  margin: 7.5px 0 7.5px auto;\n  max-width: 80%;\n\n  "," {\n    display: -webkit-box;\n    max-width: 100%;\n  }\n"])),L),le=p.b.p(qn||(qn=Object(l.a)(["\n  padding: 7px 15px;\n  margin-left: 10px;\n  max-width: calc(100% - 64px);\n  height: fit-content;\n  background-color: #00b9a3;\n  color: #ffffff;\n  border-radius: 10px 0 10px 10px;\n  word-wrap: break-word;\n"]))),pe=p.b.div(Bn||(Bn=Object(l.a)(["\n    display: flex;\n    margin: 7.5px auto 7.5px 0;\n    max-width: 80%;\n\n  "," {\n    display: -webkit-box;\n    width: 100%;\n    max-width: 100%;\n  }\n"])),L),je=p.b.div(Yn||(Yn=Object(l.a)(["\n  margin-right: 10px;\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  background-color: ",";\n"])),(function(n){return n.background})),xe=p.b.div(Hn||(Hn=Object(l.a)(["\n  width: calc(100% - 40px);\n"]))),ue=p.b.p(Rn||(Rn=Object(l.a)(["\n  margin-bottom: 5px;\n  color: #aaaaaa;\n  font-size: 0.8125rem;\n"]))),he=p.b.div(_n||(_n=Object(l.a)(["\n  display: flex;\n  align-items: flex-end;\n"]))),fe=p.b.p(Kn||(Kn=Object(l.a)(["\n  margin-right: 10px;\n  padding: 7px 15px;\n  max-width: calc(100% - 64px);\n  background-color: #fff;\n  border-radius: 0 10px 10px 10px;\n  word-wrap: break-word;\n"]))),ge=p.b.p(Pn||(Pn=Object(l.a)(["\n  font-size: 0.75rem;\n  color: #aaaaaa;\n\n  "," {\n    display: -webkit-flex;\n    align-items: flex-end;\n  }\n"])),L),me=p.b.form(Qn||(Qn=Object(l.a)(["\n  position: relative;\n"]))),Oe=p.b.input(Vn||(Vn=Object(l.a)(["\n  border: transparent;\n  padding: 0 75px 0 55px;\n  width: 100%;\n  height: 50px;\n  border-radius: 50px;\n  background-color: #fff;\n  font-size: 1rem;\n\n  &::placeholder {\n    color: #cccccc;\n  }\n"]))),ve=p.b.div(Xn||(Xn=Object(l.a)(["\n  position: absolute;\n  top: 50%;\n  left: 20px;\n  transform: translateY(-50%);\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n  \n  svg {\n    width: 100%;\n    color: #cccccc;\n  }\n"]))),we=p.b.button(Gn||(Gn=Object(l.a)(["\n  position: absolute;\n  top: 50%;\n  right: 20px;\n  transform: translateY(-50%);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 35px;\n  height: 35px;\n  border-radius: 50%;\n  border: none;\n  background-color: #00b9a3;\n  cursor: pointer;\n  transition: 0.3s;\n\n  svg {\n    color: #fff;\n  }\n\n  &:hover {\n    background-color: #00ad98;\n  }\n"])));function ke(){var n=Object(o.useState)(!0),e=Object(d.a)(n,2),t=e[0],a=e[1],r=Object(o.useState)([]),i=Object(d.a)(r,2),c=(i[0],i[1]),s=Object(o.useState)([]),b=Object(d.a)(s,2),l=b[0],p=b[1],j=Object(o.useState)([]),u=Object(d.a)(j,2),h=u[0],f=u[1],g=Object(o.useContext)(N),m=g.isUserLogin,O=g.currentUser,v=Object(M.g)().roomId,w=Object(M.f)(),k=JSON.parse(localStorage.getItem(A));Object(o.useEffect)((function(){m?(E(),function(n){pn.ref("messages/".concat(n)).on("value",(function(n){var e=n.val();if(e){var t=Object.keys(e).map((function(n){return e[n]}));c(t),p(t)}}))}(v),function(n,e){pn.ref("onlineUser/".concat(n)).push({username:e})}(v,k.username),function(n,e,t){pn.ref("messages/".concat(n)).push({id:{".sv":"timestamp"},username:e,isSystemMessage:t})}(v,k.username,!0)):w.push("/")}),[w,m,v,k.username,k.avatar]);return Object(x.jsx)(F,{children:Object(x.jsx)(ne,{children:Object(x.jsxs)(ee,{children:[Object(x.jsxs)(te,{children:["lobby"===v?"\u804a\u5929\u5927\u5ef3":"\u623f\u9593\u7de8\u865f ".concat(v),Object(x.jsx)(Zn.a,{})]}),Object(x.jsx)(ae,{isSidebarOpen:t,children:Object(x.jsxs)(ie,{children:[Object(x.jsx)(oe,{avatar:k.avatar}),k.username]})}),Object(x.jsx)(re,{onClick:function(){a(!t)},isSidebarOpen:t,children:Object(x.jsx)($n.a,{})}),Object(x.jsxs)(ce,{isSidebarOpen:t,children:[Object(x.jsx)(se,{children:l&&l.map((function(n){return n.isSystemMessage?Object(x.jsxs)(be,{children:[n.username+" \u52a0\u5165\u804a\u5929\u5ba4"," "]},n.id):O.username!==n.username||n.isSystemMessage?Object(x.jsxs)(pe,{children:[Object(x.jsx)(je,{background:n.avatar}),Object(x.jsxs)(xe,{children:[Object(x.jsx)(ue,{children:n.username}),Object(x.jsxs)(he,{children:[Object(x.jsx)(fe,{children:n.message}),Object(x.jsx)(ge,{children:new Date(n.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0})})]})]})]},n.id):Object(x.jsxs)(de,{children:[Object(x.jsx)(ge,{children:new Date(n.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0})}),Object(x.jsx)(le,{children:n.message})]},n.id)}))}),Object(x.jsxs)(me,{onSubmit:function(n){n.preventDefault(),h&&(!function(n){var e=n.roomId,t=n.message,a=n.username,r=n.avatar,i=n.isSystemMessage;pn.ref("messages/".concat(e)).push({id:{".sv":"timestamp"},message:t,timestamp:{".sv":"timestamp"},username:a,avatar:r,isSystemMessage:i})}({roomId:v,message:h,username:k.username,avatar:k.avatar,isSystemMessage:!1}),f(""))},children:[Object(x.jsx)(ve,{children:Object(x.jsx)(Wn.a,{})}),Object(x.jsx)(Oe,{placeholder:"\u8f38\u5165\u60f3\u8aaa\u7684\u8a71",value:h,onChange:function(n){f(n.target.value)}}),Object(x.jsx)(we,{type:"submit",children:Object(x.jsx)(Zn.b,{})})]})]})]})})})}function ye(){var n=Object(o.useState)(!1),e=Object(d.a)(n,2),t=e[0],a=e[1],r=Object(o.useState)({username:"",avatar:""}),i=Object(d.a)(r,2),c=i[0],s=i[1];return Object(x.jsx)(N.Provider,{value:{isUserLogin:t,setIsUserLogin:a,currentUser:c,setCurrentUser:s},children:Object(x.jsxs)(D.a,{children:[Object(x.jsx)(j,{}),Object(x.jsxs)(M.c,{children:[Object(x.jsx)(M.a,{exact:!0,path:"/",component:G}),Object(x.jsx)(M.a,{path:"/mode",component:yn}),Object(x.jsx)(M.a,{path:"/chat/:roomId",component:ke})]}),Object(x.jsx)(f,{})]})})}b.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(ye,{})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.01792afb.chunk.js.map